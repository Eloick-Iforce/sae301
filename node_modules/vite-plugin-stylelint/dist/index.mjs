import {createRequire as __createRequire} from 'module';var require=__createRequire(import.meta.url);
var me=Object.create;var Tt=Object.defineProperty;var xe=Object.getOwnPropertyDescriptor;var _e=Object.getOwnPropertyNames;var Ae=Object.getPrototypeOf,Re=Object.prototype.hasOwnProperty;var nt=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(r,e)=>(typeof require<"u"?require:r)[e]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var Se=(t,r)=>()=>(t&&(r=t(t=0)),r);var rt=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var be=(t,r,e,l)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of _e(r))!Re.call(t,i)&&i!==e&&Tt(t,i,{get:()=>r[i],enumerable:!(l=xe(r,i))||l.enumerable});return t};var ft=(t,r,e)=>(e=t!=null?me(Ae(t)):{},be(r||!t||!t.__esModule?Tt(e,"default",{value:t,enumerable:!0}):e,t));var L=Se(()=>{});var it=rt((Sr,Nt)=>{"use strict";L();var Ee=nt("path"),V="\\\\/",Lt=`[^${V}]`,W="\\.",de="\\+",$e="\\?",ht="\\/",Ce="(?=.)",wt="[^/]",_t=`(?:${ht}|$)`,kt=`(?:^|${ht})`,At=`${W}{1,2}${_t}`,ve=`(?!${W})`,Oe=`(?!${kt}${At})`,He=`(?!${W}{0,1}${_t})`,Te=`(?!${At})`,Le=`[^.${ht}]`,we=`${wt}*?`,It={DOT_LITERAL:W,PLUS_LITERAL:de,QMARK_LITERAL:$e,SLASH_LITERAL:ht,ONE_CHAR:Ce,QMARK:wt,END_ANCHOR:_t,DOTS_SLASH:At,NO_DOT:ve,NO_DOTS:Oe,NO_DOT_SLASH:He,NO_DOTS_SLASH:Te,QMARK_NO_DOT:Le,STAR:we,START_ANCHOR:kt},ke={...It,SLASH_LITERAL:`[${V}]`,QMARK:Lt,STAR:`${Lt}*?`,DOTS_SLASH:`${W}{1,2}(?:[${V}]|$)`,NO_DOT:`(?!${W})`,NO_DOTS:`(?!(?:^|[${V}])${W}{1,2}(?:[${V}]|$))`,NO_DOT_SLASH:`(?!${W}{0,1}(?:[${V}]|$))`,NO_DOTS_SLASH:`(?!${W}{1,2}(?:[${V}]|$))`,QMARK_NO_DOT:`[^.${V}]`,START_ANCHOR:`(?:^|[${V}])`,END_ANCHOR:`(?:[${V}]|$)`},Ie={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Nt.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Ie,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Ee.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?ke:It}}});var gt=rt(B=>{"use strict";L();var Ne=nt("path"),Pe=process.platform==="win32",{REGEX_BACKSLASH:De,REGEX_REMOVE_BACKSLASH:Me,REGEX_SPECIAL_CHARS:Fe,REGEX_SPECIAL_CHARS_GLOBAL:Be}=it();B.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);B.hasRegexChars=t=>Fe.test(t);B.isRegexChar=t=>t.length===1&&B.hasRegexChars(t);B.escapeRegex=t=>t.replace(Be,"\\$1");B.toPosixSlashes=t=>t.replace(De,"/");B.removeBackslashes=t=>t.replace(Me,r=>r==="\\"?"":r);B.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};B.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:Pe===!0||Ne.sep==="\\";B.escapeLast=(t,r,e)=>{let l=t.lastIndexOf(r,e);return l===-1?t:t[l-1]==="\\"?B.escapeLast(t,r,l-1):`${t.slice(0,l)}\\${t.slice(l)}`};B.removePrefix=(t,r={})=>{let e=t;return e.startsWith("./")&&(e=e.slice(2),r.prefix="./"),e};B.wrapOutput=(t,r={},e={})=>{let l=e.contains?"":"^",i=e.contains?"":"$",p=`${l}(?:${t})${i}`;return r.negated===!0&&(p=`(?:^(?!${p}).*$)`),p}});var Kt=rt(($r,Ut)=>{"use strict";L();var Pt=gt(),{CHAR_ASTERISK:Rt,CHAR_AT:Ge,CHAR_BACKWARD_SLASH:ut,CHAR_COMMA:Ue,CHAR_DOT:St,CHAR_EXCLAMATION_MARK:bt,CHAR_FORWARD_SLASH:Gt,CHAR_LEFT_CURLY_BRACE:Et,CHAR_LEFT_PARENTHESES:dt,CHAR_LEFT_SQUARE_BRACKET:Ke,CHAR_PLUS:qe,CHAR_QUESTION_MARK:Dt,CHAR_RIGHT_CURLY_BRACE:Xe,CHAR_RIGHT_PARENTHESES:Mt,CHAR_RIGHT_SQUARE_BRACKET:Qe}=it(),Ft=t=>t===Gt||t===ut,Bt=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},ze=(t,r)=>{let e=r||{},l=t.length-1,i=e.parts===!0||e.scanToEnd===!0,p=[],c=[],g=[],f=t,x=-1,y=0,A=0,O=!1,k=!1,b=!1,$=!1,J=!1,q=!1,K=!1,T=!1,X=!1,P=!1,j=0,D,h,S={value:"",depth:0,isGlob:!1},N=()=>x>=l,o=()=>f.charCodeAt(x+1),C=()=>(D=h,f.charCodeAt(++x));for(;x<l;){h=C();let M;if(h===ut){K=S.backslashes=!0,h=C(),h===Et&&(q=!0);continue}if(q===!0||h===Et){for(j++;N()!==!0&&(h=C());){if(h===ut){K=S.backslashes=!0,C();continue}if(h===Et){j++;continue}if(q!==!0&&h===St&&(h=C())===St){if(O=S.isBrace=!0,b=S.isGlob=!0,P=!0,i===!0)continue;break}if(q!==!0&&h===Ue){if(O=S.isBrace=!0,b=S.isGlob=!0,P=!0,i===!0)continue;break}if(h===Xe&&(j--,j===0)){q=!1,O=S.isBrace=!0,P=!0;break}}if(i===!0)continue;break}if(h===Gt){if(p.push(x),c.push(S),S={value:"",depth:0,isGlob:!1},P===!0)continue;if(D===St&&x===y+1){y+=2;continue}A=x+1;continue}if(e.noext!==!0&&(h===qe||h===Ge||h===Rt||h===Dt||h===bt)===!0&&o()===dt){if(b=S.isGlob=!0,$=S.isExtglob=!0,P=!0,h===bt&&x===y&&(X=!0),i===!0){for(;N()!==!0&&(h=C());){if(h===ut){K=S.backslashes=!0,h=C();continue}if(h===Mt){b=S.isGlob=!0,P=!0;break}}continue}break}if(h===Rt){if(D===Rt&&(J=S.isGlobstar=!0),b=S.isGlob=!0,P=!0,i===!0)continue;break}if(h===Dt){if(b=S.isGlob=!0,P=!0,i===!0)continue;break}if(h===Ke){for(;N()!==!0&&(M=C());){if(M===ut){K=S.backslashes=!0,C();continue}if(M===Qe){k=S.isBracket=!0,b=S.isGlob=!0,P=!0;break}}if(i===!0)continue;break}if(e.nonegate!==!0&&h===bt&&x===y){T=S.negated=!0,y++;continue}if(e.noparen!==!0&&h===dt){if(b=S.isGlob=!0,i===!0){for(;N()!==!0&&(h=C());){if(h===dt){K=S.backslashes=!0,h=C();continue}if(h===Mt){P=!0;break}}continue}break}if(b===!0){if(P=!0,i===!0)continue;break}}e.noext===!0&&($=!1,b=!1);let E=f,tt="",n="";y>0&&(tt=f.slice(0,y),f=f.slice(y),A-=y),E&&b===!0&&A>0?(E=f.slice(0,A),n=f.slice(A)):b===!0?(E="",n=f):E=f,E&&E!==""&&E!=="/"&&E!==f&&Ft(E.charCodeAt(E.length-1))&&(E=E.slice(0,-1)),e.unescape===!0&&(n&&(n=Pt.removeBackslashes(n)),E&&K===!0&&(E=Pt.removeBackslashes(E)));let s={prefix:tt,input:t,start:y,base:E,glob:n,isBrace:O,isBracket:k,isGlob:b,isExtglob:$,isGlobstar:J,negated:T,negatedExtglob:X};if(e.tokens===!0&&(s.maxDepth=0,Ft(h)||c.push(S),s.tokens=c),e.parts===!0||e.tokens===!0){let M;for(let R=0;R<p.length;R++){let Q=M?M+1:y,z=p[R],G=t.slice(Q,z);e.tokens&&(R===0&&y!==0?(c[R].isPrefix=!0,c[R].value=tt):c[R].value=G,Bt(c[R]),s.maxDepth+=c[R].depth),(R!==0||G!=="")&&g.push(G),M=z}if(M&&M+1<t.length){let R=t.slice(M+1);g.push(R),e.tokens&&(c[c.length-1].value=R,Bt(c[c.length-1]),s.maxDepth+=c[c.length-1].depth)}s.slashes=p,s.parts=g}return s};Ut.exports=ze});var Qt=rt((vr,Xt)=>{"use strict";L();var yt=it(),U=gt(),{MAX_LENGTH:mt,POSIX_REGEX_SOURCE:Ve,REGEX_NON_SPECIAL_CHARS:We,REGEX_SPECIAL_CHARS_BACKREF:Ze,REPLACEMENTS:qt}=yt,Ye=(t,r)=>{if(typeof r.expandRange=="function")return r.expandRange(...t,r);t.sort();let e=`[${t.join("-")}]`;try{new RegExp(e)}catch{return t.map(i=>U.escapeRegex(i)).join("..")}return e},st=(t,r)=>`Missing ${t}: "${r}" - use "\\\\${r}" to match literal characters`,$t=(t,r)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=qt[t]||t;let e={...r},l=typeof e.maxLength=="number"?Math.min(mt,e.maxLength):mt,i=t.length;if(i>l)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${l}`);let p={type:"bos",value:"",output:e.prepend||""},c=[p],g=e.capture?"":"?:",f=U.isWindows(r),x=yt.globChars(f),y=yt.extglobChars(x),{DOT_LITERAL:A,PLUS_LITERAL:O,SLASH_LITERAL:k,ONE_CHAR:b,DOTS_SLASH:$,NO_DOT:J,NO_DOT_SLASH:q,NO_DOTS_SLASH:K,QMARK:T,QMARK_NO_DOT:X,STAR:P,START_ANCHOR:j}=x,D=a=>`(${g}(?:(?!${j}${a.dot?$:A}).)*?)`,h=e.dot?"":J,S=e.dot?T:X,N=e.bash===!0?D(e):P;e.capture&&(N=`(${N})`),typeof e.noext=="boolean"&&(e.noextglob=e.noext);let o={input:t,index:-1,start:0,dot:e.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:c};t=U.removePrefix(t,o),i=t.length;let C=[],E=[],tt=[],n=p,s,M=()=>o.index===i-1,R=o.peek=(a=1)=>t[o.index+a],Q=o.advance=()=>t[++o.index]||"",z=()=>t.slice(o.index+1),G=(a="",d=0)=>{o.consumed+=a,o.index+=d},at=a=>{o.output+=a.output!=null?a.output:a.value,G(a.value)},ge=()=>{let a=1;for(;R()==="!"&&(R(2)!=="("||R(3)==="?");)Q(),o.start++,a++;return a%2===0?!1:(o.negated=!0,o.start++,!0)},lt=a=>{o[a]++,tt.push(a)},et=a=>{o[a]--,tt.pop()},_=a=>{if(n.type==="globstar"){let d=o.braces>0&&(a.type==="comma"||a.type==="brace"),u=a.extglob===!0||C.length&&(a.type==="pipe"||a.type==="paren");a.type!=="slash"&&a.type!=="paren"&&!d&&!u&&(o.output=o.output.slice(0,-n.output.length),n.type="star",n.value="*",n.output=N,o.output+=n.output)}if(C.length&&a.type!=="paren"&&(C[C.length-1].inner+=a.value),(a.value||a.output)&&at(a),n&&n.type==="text"&&a.type==="text"){n.value+=a.value,n.output=(n.output||"")+a.value;return}a.prev=n,c.push(a),n=a},ct=(a,d)=>{let u={...y[d],conditions:1,inner:""};u.prev=n,u.parens=o.parens,u.output=o.output;let m=(e.capture?"(":"")+u.open;lt("parens"),_({type:a,value:d,output:o.output?"":b}),_({type:"paren",extglob:!0,value:Q(),output:m}),C.push(u)},ye=a=>{let d=a.close+(e.capture?")":""),u;if(a.type==="negate"){let m=N;if(a.inner&&a.inner.length>1&&a.inner.includes("/")&&(m=D(e)),(m!==N||M()||/^\)+$/.test(z()))&&(d=a.close=`)$))${m}`),a.inner.includes("*")&&(u=z())&&/^\.[^\\/.]+$/.test(u)){let H=$t(u,{...r,fastpaths:!1}).output;d=a.close=`)${H})${m})`}a.prev.type==="bos"&&(o.negatedExtglob=!0)}_({type:"paren",extglob:!0,value:s,output:d}),et("parens")};if(e.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let a=!1,d=t.replace(Ze,(u,m,H,F,I,xt)=>F==="\\"?(a=!0,u):F==="?"?m?m+F+(I?T.repeat(I.length):""):xt===0?S+(I?T.repeat(I.length):""):T.repeat(H.length):F==="."?A.repeat(H.length):F==="*"?m?m+F+(I?N:""):N:m?u:`\\${u}`);return a===!0&&(e.unescape===!0?d=d.replace(/\\/g,""):d=d.replace(/\\+/g,u=>u.length%2===0?"\\\\":u?"\\":"")),d===t&&e.contains===!0?(o.output=t,o):(o.output=U.wrapOutput(d,o,r),o)}for(;!M();){if(s=Q(),s==="\0")continue;if(s==="\\"){let u=R();if(u==="/"&&e.bash!==!0||u==="."||u===";")continue;if(!u){s+="\\",_({type:"text",value:s});continue}let m=/^\\+/.exec(z()),H=0;if(m&&m[0].length>2&&(H=m[0].length,o.index+=H,H%2!==0&&(s+="\\")),e.unescape===!0?s=Q():s+=Q(),o.brackets===0){_({type:"text",value:s});continue}}if(o.brackets>0&&(s!=="]"||n.value==="["||n.value==="[^")){if(e.posix!==!1&&s===":"){let u=n.value.slice(1);if(u.includes("[")&&(n.posix=!0,u.includes(":"))){let m=n.value.lastIndexOf("["),H=n.value.slice(0,m),F=n.value.slice(m+2),I=Ve[F];if(I){n.value=H+I,o.backtrack=!0,Q(),!p.output&&c.indexOf(n)===1&&(p.output=b);continue}}}(s==="["&&R()!==":"||s==="-"&&R()==="]")&&(s=`\\${s}`),s==="]"&&(n.value==="["||n.value==="[^")&&(s=`\\${s}`),e.posix===!0&&s==="!"&&n.value==="["&&(s="^"),n.value+=s,at({value:s});continue}if(o.quotes===1&&s!=='"'){s=U.escapeRegex(s),n.value+=s,at({value:s});continue}if(s==='"'){o.quotes=o.quotes===1?0:1,e.keepQuotes===!0&&_({type:"text",value:s});continue}if(s==="("){lt("parens"),_({type:"paren",value:s});continue}if(s===")"){if(o.parens===0&&e.strictBrackets===!0)throw new SyntaxError(st("opening","("));let u=C[C.length-1];if(u&&o.parens===u.parens+1){ye(C.pop());continue}_({type:"paren",value:s,output:o.parens?")":"\\)"}),et("parens");continue}if(s==="["){if(e.nobracket===!0||!z().includes("]")){if(e.nobracket!==!0&&e.strictBrackets===!0)throw new SyntaxError(st("closing","]"));s=`\\${s}`}else lt("brackets");_({type:"bracket",value:s});continue}if(s==="]"){if(e.nobracket===!0||n&&n.type==="bracket"&&n.value.length===1){_({type:"text",value:s,output:`\\${s}`});continue}if(o.brackets===0){if(e.strictBrackets===!0)throw new SyntaxError(st("opening","["));_({type:"text",value:s,output:`\\${s}`});continue}et("brackets");let u=n.value.slice(1);if(n.posix!==!0&&u[0]==="^"&&!u.includes("/")&&(s=`/${s}`),n.value+=s,at({value:s}),e.literalBrackets===!1||U.hasRegexChars(u))continue;let m=U.escapeRegex(n.value);if(o.output=o.output.slice(0,-n.value.length),e.literalBrackets===!0){o.output+=m,n.value=m;continue}n.value=`(${g}${m}|${n.value})`,o.output+=n.value;continue}if(s==="{"&&e.nobrace!==!0){lt("braces");let u={type:"brace",value:s,output:"(",outputIndex:o.output.length,tokensIndex:o.tokens.length};E.push(u),_(u);continue}if(s==="}"){let u=E[E.length-1];if(e.nobrace===!0||!u){_({type:"text",value:s,output:s});continue}let m=")";if(u.dots===!0){let H=c.slice(),F=[];for(let I=H.length-1;I>=0&&(c.pop(),H[I].type!=="brace");I--)H[I].type!=="dots"&&F.unshift(H[I].value);m=Ye(F,e),o.backtrack=!0}if(u.comma!==!0&&u.dots!==!0){let H=o.output.slice(0,u.outputIndex),F=o.tokens.slice(u.tokensIndex);u.value=u.output="\\{",s=m="\\}",o.output=H;for(let I of F)o.output+=I.output||I.value}_({type:"brace",value:s,output:m}),et("braces"),E.pop();continue}if(s==="|"){C.length>0&&C[C.length-1].conditions++,_({type:"text",value:s});continue}if(s===","){let u=s,m=E[E.length-1];m&&tt[tt.length-1]==="braces"&&(m.comma=!0,u="|"),_({type:"comma",value:s,output:u});continue}if(s==="/"){if(n.type==="dot"&&o.index===o.start+1){o.start=o.index+1,o.consumed="",o.output="",c.pop(),n=p;continue}_({type:"slash",value:s,output:k});continue}if(s==="."){if(o.braces>0&&n.type==="dot"){n.value==="."&&(n.output=A);let u=E[E.length-1];n.type="dots",n.output+=s,n.value+=s,u.dots=!0;continue}if(o.braces+o.parens===0&&n.type!=="bos"&&n.type!=="slash"){_({type:"text",value:s,output:A});continue}_({type:"dot",value:s,output:A});continue}if(s==="?"){if(!(n&&n.value==="(")&&e.noextglob!==!0&&R()==="("&&R(2)!=="?"){ct("qmark",s);continue}if(n&&n.type==="paren"){let m=R(),H=s;if(m==="<"&&!U.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(n.value==="("&&!/[!=<:]/.test(m)||m==="<"&&!/<([!=]|\w+>)/.test(z()))&&(H=`\\${s}`),_({type:"text",value:s,output:H});continue}if(e.dot!==!0&&(n.type==="slash"||n.type==="bos")){_({type:"qmark",value:s,output:X});continue}_({type:"qmark",value:s,output:T});continue}if(s==="!"){if(e.noextglob!==!0&&R()==="("&&(R(2)!=="?"||!/[!=<:]/.test(R(3)))){ct("negate",s);continue}if(e.nonegate!==!0&&o.index===0){ge();continue}}if(s==="+"){if(e.noextglob!==!0&&R()==="("&&R(2)!=="?"){ct("plus",s);continue}if(n&&n.value==="("||e.regex===!1){_({type:"plus",value:s,output:O});continue}if(n&&(n.type==="bracket"||n.type==="paren"||n.type==="brace")||o.parens>0){_({type:"plus",value:s});continue}_({type:"plus",value:O});continue}if(s==="@"){if(e.noextglob!==!0&&R()==="("&&R(2)!=="?"){_({type:"at",extglob:!0,value:s,output:""});continue}_({type:"text",value:s});continue}if(s!=="*"){(s==="$"||s==="^")&&(s=`\\${s}`);let u=We.exec(z());u&&(s+=u[0],o.index+=u[0].length),_({type:"text",value:s});continue}if(n&&(n.type==="globstar"||n.star===!0)){n.type="star",n.star=!0,n.value+=s,n.output=N,o.backtrack=!0,o.globstar=!0,G(s);continue}let a=z();if(e.noextglob!==!0&&/^\([^?]/.test(a)){ct("star",s);continue}if(n.type==="star"){if(e.noglobstar===!0){G(s);continue}let u=n.prev,m=u.prev,H=u.type==="slash"||u.type==="bos",F=m&&(m.type==="star"||m.type==="globstar");if(e.bash===!0&&(!H||a[0]&&a[0]!=="/")){_({type:"star",value:s,output:""});continue}let I=o.braces>0&&(u.type==="comma"||u.type==="brace"),xt=C.length&&(u.type==="pipe"||u.type==="paren");if(!H&&u.type!=="paren"&&!I&&!xt){_({type:"star",value:s,output:""});continue}for(;a.slice(0,3)==="/**";){let pt=t[o.index+4];if(pt&&pt!=="/")break;a=a.slice(3),G("/**",3)}if(u.type==="bos"&&M()){n.type="globstar",n.value+=s,n.output=D(e),o.output=n.output,o.globstar=!0,G(s);continue}if(u.type==="slash"&&u.prev.type!=="bos"&&!F&&M()){o.output=o.output.slice(0,-(u.output+n.output).length),u.output=`(?:${u.output}`,n.type="globstar",n.output=D(e)+(e.strictSlashes?")":"|$)"),n.value+=s,o.globstar=!0,o.output+=u.output+n.output,G(s);continue}if(u.type==="slash"&&u.prev.type!=="bos"&&a[0]==="/"){let pt=a[1]!==void 0?"|$":"";o.output=o.output.slice(0,-(u.output+n.output).length),u.output=`(?:${u.output}`,n.type="globstar",n.output=`${D(e)}${k}|${k}${pt})`,n.value+=s,o.output+=u.output+n.output,o.globstar=!0,G(s+Q()),_({type:"slash",value:"/",output:""});continue}if(u.type==="bos"&&a[0]==="/"){n.type="globstar",n.value+=s,n.output=`(?:^|${k}|${D(e)}${k})`,o.output=n.output,o.globstar=!0,G(s+Q()),_({type:"slash",value:"/",output:""});continue}o.output=o.output.slice(0,-n.output.length),n.type="globstar",n.output=D(e),n.value+=s,o.output+=n.output,o.globstar=!0,G(s);continue}let d={type:"star",value:s,output:N};if(e.bash===!0){d.output=".*?",(n.type==="bos"||n.type==="slash")&&(d.output=h+d.output),_(d);continue}if(n&&(n.type==="bracket"||n.type==="paren")&&e.regex===!0){d.output=s,_(d);continue}(o.index===o.start||n.type==="slash"||n.type==="dot")&&(n.type==="dot"?(o.output+=q,n.output+=q):e.dot===!0?(o.output+=K,n.output+=K):(o.output+=h,n.output+=h),R()!=="*"&&(o.output+=b,n.output+=b)),_(d)}for(;o.brackets>0;){if(e.strictBrackets===!0)throw new SyntaxError(st("closing","]"));o.output=U.escapeLast(o.output,"["),et("brackets")}for(;o.parens>0;){if(e.strictBrackets===!0)throw new SyntaxError(st("closing",")"));o.output=U.escapeLast(o.output,"("),et("parens")}for(;o.braces>0;){if(e.strictBrackets===!0)throw new SyntaxError(st("closing","}"));o.output=U.escapeLast(o.output,"{"),et("braces")}if(e.strictSlashes!==!0&&(n.type==="star"||n.type==="bracket")&&_({type:"maybe_slash",value:"",output:`${k}?`}),o.backtrack===!0){o.output="";for(let a of o.tokens)o.output+=a.output!=null?a.output:a.value,a.suffix&&(o.output+=a.suffix)}return o};$t.fastpaths=(t,r)=>{let e={...r},l=typeof e.maxLength=="number"?Math.min(mt,e.maxLength):mt,i=t.length;if(i>l)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${l}`);t=qt[t]||t;let p=U.isWindows(r),{DOT_LITERAL:c,SLASH_LITERAL:g,ONE_CHAR:f,DOTS_SLASH:x,NO_DOT:y,NO_DOTS:A,NO_DOTS_SLASH:O,STAR:k,START_ANCHOR:b}=yt.globChars(p),$=e.dot?A:y,J=e.dot?O:y,q=e.capture?"":"?:",K={negated:!1,prefix:""},T=e.bash===!0?".*?":k;e.capture&&(T=`(${T})`);let X=h=>h.noglobstar===!0?T:`(${q}(?:(?!${b}${h.dot?x:c}).)*?)`,P=h=>{switch(h){case"*":return`${$}${f}${T}`;case".*":return`${c}${f}${T}`;case"*.*":return`${$}${T}${c}${f}${T}`;case"*/*":return`${$}${T}${g}${f}${J}${T}`;case"**":return $+X(e);case"**/*":return`(?:${$}${X(e)}${g})?${J}${f}${T}`;case"**/*.*":return`(?:${$}${X(e)}${g})?${J}${T}${c}${f}${T}`;case"**/.*":return`(?:${$}${X(e)}${g})?${c}${f}${T}`;default:{let S=/^(.*?)\.(\w+)$/.exec(h);if(!S)return;let N=P(S[1]);return N?N+c+S[2]:void 0}}},j=U.removePrefix(t,K),D=P(j);return D&&e.strictSlashes!==!0&&(D+=`${g}?`),D};Xt.exports=$t});var Vt=rt((Hr,zt)=>{"use strict";L();var Je=nt("path"),je=Kt(),Ct=Qt(),vt=gt(),tr=it(),er=t=>t&&typeof t=="object"&&!Array.isArray(t),w=(t,r,e=!1)=>{if(Array.isArray(t)){let y=t.map(O=>w(O,r,e));return O=>{for(let k of y){let b=k(O);if(b)return b}return!1}}let l=er(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!l)throw new TypeError("Expected pattern to be a non-empty string");let i=r||{},p=vt.isWindows(r),c=l?w.compileRe(t,r):w.makeRe(t,r,!1,!0),g=c.state;delete c.state;let f=()=>!1;if(i.ignore){let y={...r,ignore:null,onMatch:null,onResult:null};f=w(i.ignore,y,e)}let x=(y,A=!1)=>{let{isMatch:O,match:k,output:b}=w.test(y,c,r,{glob:t,posix:p}),$={glob:t,state:g,regex:c,posix:p,input:y,output:b,match:k,isMatch:O};return typeof i.onResult=="function"&&i.onResult($),O===!1?($.isMatch=!1,A?$:!1):f(y)?(typeof i.onIgnore=="function"&&i.onIgnore($),$.isMatch=!1,A?$:!1):(typeof i.onMatch=="function"&&i.onMatch($),A?$:!0)};return e&&(x.state=g),x};w.test=(t,r,e,{glob:l,posix:i}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let p=e||{},c=p.format||(i?vt.toPosixSlashes:null),g=t===l,f=g&&c?c(t):t;return g===!1&&(f=c?c(t):t,g=f===l),(g===!1||p.capture===!0)&&(p.matchBase===!0||p.basename===!0?g=w.matchBase(t,r,e,i):g=r.exec(f)),{isMatch:Boolean(g),match:g,output:f}};w.matchBase=(t,r,e,l=vt.isWindows(e))=>(r instanceof RegExp?r:w.makeRe(r,e)).test(Je.basename(t));w.isMatch=(t,r,e)=>w(r,e)(t);w.parse=(t,r)=>Array.isArray(t)?t.map(e=>w.parse(e,r)):Ct(t,{...r,fastpaths:!1});w.scan=(t,r)=>je(t,r);w.compileRe=(t,r,e=!1,l=!1)=>{if(e===!0)return t.output;let i=r||{},p=i.contains?"":"^",c=i.contains?"":"$",g=`${p}(?:${t.output})${c}`;t&&t.negated===!0&&(g=`^(?!${g}).*$`);let f=w.toRegex(g,r);return l===!0&&(f.state=t),f};w.makeRe=(t,r={},e=!1,l=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return r.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(i.output=Ct.fastpaths(t,r)),i.output||(i=Ct(t,r)),w.compileRe(i,r,e,l)};w.toRegex=(t,r)=>{try{let e=r||{};return new RegExp(t,e.flags||(e.nocase?"i":""))}catch(e){if(r&&r.debug===!0)throw e;return/$^/}};w.constants=tr;zt.exports=w});var Zt=rt((Lr,Wt)=>{"use strict";L();Wt.exports=Vt()});var ne=rt((Dr,Ot)=>{L();var cr=nt("tty"),pr=!("NO_COLOR"in process.env||process.argv.includes("--no-color"))&&("FORCE_COLOR"in process.env||process.argv.includes("--color")||process.platform==="win32"||cr.isatty(1)&&process.env.TERM!=="dumb"||"CI"in process.env),v=(t,r,e=t)=>l=>{let i=""+l,p=i.indexOf(r,t.length);return~p?t+ee(i,r,e,p)+r:t+i+r},ee=(t,r,e,l)=>{let i=t.substring(0,l)+e,p=t.substring(l+r.length),c=p.indexOf(r);return~c?i+ee(p,r,e,c):i+p},re=(t=pr)=>({isColorSupported:t,reset:t?r=>`\x1B[0m${r}\x1B[0m`:String,bold:t?v("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"):String,dim:t?v("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"):String,italic:t?v("\x1B[3m","\x1B[23m"):String,underline:t?v("\x1B[4m","\x1B[24m"):String,inverse:t?v("\x1B[7m","\x1B[27m"):String,hidden:t?v("\x1B[8m","\x1B[28m"):String,strikethrough:t?v("\x1B[9m","\x1B[29m"):String,black:t?v("\x1B[30m","\x1B[39m"):String,red:t?v("\x1B[31m","\x1B[39m"):String,green:t?v("\x1B[32m","\x1B[39m"):String,yellow:t?v("\x1B[33m","\x1B[39m"):String,blue:t?v("\x1B[34m","\x1B[39m"):String,magenta:t?v("\x1B[35m","\x1B[39m"):String,cyan:t?v("\x1B[36m","\x1B[39m"):String,white:t?v("\x1B[37m","\x1B[39m"):String,gray:t?v("\x1B[90m","\x1B[39m"):String,bgBlack:t?v("\x1B[40m","\x1B[49m"):String,bgRed:t?v("\x1B[41m","\x1B[49m"):String,bgGreen:t?v("\x1B[42m","\x1B[49m"):String,bgYellow:t?v("\x1B[43m","\x1B[49m"):String,bgBlue:t?v("\x1B[44m","\x1B[49m"):String,bgMagenta:t?v("\x1B[45m","\x1B[49m"):String,bgCyan:t?v("\x1B[46m","\x1B[49m"):String,bgWhite:t?v("\x1B[47m","\x1B[49m"):String});Ot.exports=re();Ot.exports.createColors=re});L();L();var jt=ft(Zt(),1);import{extname as Ir,win32 as rr,posix as Jt,isAbsolute as nr,resolve as sr}from"path";function or(t){return Array.isArray(t)}function Yt(t){return or(t)?t:t==null?[]:[t]}var ot=function(r){return r.split(rr.sep).join(Jt.sep)};function ir(t,r){if(r===!1||nr(t)||t.startsWith("*"))return ot(t);let e=ot(sr(r||"")).replace(/[-^$*+?.()|[\]{}]/g,"\\$&");return Jt.join(e,ot(t))}var te=function(r,e,l){let i=l&&l.resolve,p=f=>f instanceof RegExp?f:{test:x=>{let y=ir(f,i);return(0,jt.default)(y,{dot:!0})(x)}},c=Yt(r).map(p),g=Yt(e).map(p);return function(x){if(typeof x!="string"||/\0/.test(x))return!1;let y=ot(x);for(let A=0;A<g.length;++A)if(g[A].test(y))return!1;for(let A=0;A<c.length;++A)if(c[A].test(y))return!0;return!c.length}},ur="break case class catch const continue debugger default delete do else export extends finally for function if import in instanceof let new return super switch this throw try typeof var void while with yield enum await implements package protected static interface private public",ar="arguments Infinity NaN undefined null true false eval uneval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Symbol Error EvalError InternalError RangeError ReferenceError SyntaxError TypeError URIError Number Math Date String RegExp Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array Map Set WeakMap WeakSet SIMD ArrayBuffer DataView JSON Promise Generator GeneratorFunction Reflect Proxy Intl",lr=new Set(`${ur} ${ar}`.split(" "));lr.add("");L();var ue=ft(ne());import{resolve as ie}from"path";import fr from"chokidar";var hr=process.cwd(),Ht="vite:stylelint",gr={error:"red",warning:"yellow",plugin:"magenta"},ae=t=>t.startsWith("virtual:")||t.startsWith("\0")||!t.includes("/"),se=(t,r)=>ue.default[gr[r]](t),yr=(t,r,{emitError:e,emitErrorAsWarning:l,emitWarning:i,emitWarningAsError:p},c)=>{r==="error"&&e&&(l?c.warn(t):c.error(t)),r==="warning"&&i&&(p?c.error(t):c.warn(t))},mr=(t,r,{hasPluginName:e=!1,isColorized:l=!1}={})=>{let i=t;e||(i+=`  Plugin: ${se(Ht,"plugin")}
`),l||(i=se(i,r)),console.log(i)},oe=(t,r,{hasPluginName:e=!1,isColorized:l=!1,options:i,context:p}={})=>(console.log(""),p&&i?yr(t,r,i,p):mr(t,r,{hasPluginName:e,isColorized:l})),le=({dev:t,build:r,cache:e,cacheLocation:l,include:i,exclude:p,stylelintPath:c,formatter:g,lintOnStart:f,chokidar:x,emitError:y,emitErrorAsWarning:A,emitWarning:O,emitWarningAsError:k,...b},{cacheDir:$})=>({dev:t!=null?t:!0,build:r!=null?r:!0,cache:e!=null?e:!0,cacheLocation:l!=null?l:ie($,"vite-plugin-stylelint"),include:i!=null?i:["src/**/*.{css,scss,sass,less,styl,vue,svelte}"],exclude:p!=null?p:["node_modules","virtual:"],stylelintPath:c!=null?c:"stylelint",formatter:g!=null?g:"string",lintOnStart:f!=null?f:!1,chokidar:x!=null?x:!1,emitError:y!=null?y:!0,emitErrorAsWarning:A!=null?A:!1,emitWarning:O!=null?O:!0,emitWarningAsError:k!=null?k:!1,...b}),ce=t=>te(t.include,t.exclude),xr=t=>({...t,allowEmptyInput:!0}),pe=async({stylelintPath:t,formatter:r},e)=>{var l;try{let p=(await Promise.resolve().then(()=>ft(nt(t)))).default,c=typeof r=="string"?p.formatters[r]:r;return{stylelint:p,formatter:c}}catch(i){console.log(""),e.error(`${(l=i==null?void 0:i.message)!=null?l:"Failed to import Stylelint. Have you installed and configured correctly?"}`)}},fe=(t,r,e)=>async(l,i,p=!1)=>await t.lint({...xr(e),files:i}).then(async c=>{if(!c)return;let g=c.results.filter(y=>!y.ignored&&y.warnings.length>0);if(g.length===0)return;let f=r(g,c),x=c.errored?"error":"warning";return!p&&e.chokidar?oe(f,x):oe(f,x,{options:e,context:l})}),he=(t,{include:r,exclude:e},l)=>fr.watch(r,{ignored:e}).on("change",async i=>{let p=ie(hr,i);await t(l,p)});function _r(t={}){let{dev:r=!0,build:e=!0}=t,l,i,p,c,g,f;return{name:Ht,apply(x,{command:y}){return!!(y==="serve"&&r||y==="build"&&e)},configResolved(x){l=le(t,x),i=ce(l)},async buildStart(){if(!p){let x=await pe(l,this);p=x.stylelint,c=x.formatter,g=fe(p,c,l)}l.lintOnStart&&(console.log(""),this.warn("Stylelint is linting all files in the project because `lintOnStart` is true. This will significantly slow down Vite."),await g(this,l.include,!0)),l.chokidar&&(f=he(g,l,this))},async transform(x,y){if(l.chokidar)return null;let A=ot(y).split("?")[0];return!i(A)||ae(y)||await g(this,A),null},async buildEnd(){f!=null&&f.close&&await f.close()},async closeBundle(){f!=null&&f.close&&await f.close()}}}export{_r as default};
